function getArr(t,i){var n=t.x1,e=t.y1,r=i.x2,l=i.y2,s=[],o=Math.abs(r-n),c=!o;if(c)for(var u=e;u<l;u++)s.push(new Point(n,u));else for(var u=n;u<r;u++)s.push(new Point(u,e));return s}function getList(t){return t.reduce(function(t,i){return t.concat(getArr(i[0],i[1]))},[])}function Point(t,i){this.x=t,this.y=i}function dorwLine(t){var i=t.x,n=t.y;ctx.fillStyle="skyblue",ctx.fillRect(i,n,4,4)}var lin=document.getElementById("line"),ctx=lin.getContext("2d");lin.width=800,lin.height=600;var pointList=[[{x1:500,y1:430},{x2:580,y2:430}],[{x1:580,y1:430},{x2:580,y2:480}],[{x1:580,y1:480},{x2:670,y2:480}]],list=getList(pointList),timer=setInterval(function(){return list.length?dorwLine(list.shift()):clearInterval(timer)},0),list2=getList(pointList2),timer2=setInterval(function(){return list2.length?dorwLine(list2.shift()):clearInterval(timer2)},0);